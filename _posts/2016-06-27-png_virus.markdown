---  
layout: post  
title: "脑洞信安|宿命之战（初遇）"
date: 2016-06-27
categories:  传媒信安     
comments: true
description:  以下故事发生在另一个平行宇宙中，如有雷同，不是巧合。
tags:
    - 传媒信安
---  
以下故事发生在另一个平行宇宙中，如有雷同，不是巧合。

___
人物简介：

![](http://127.0.0.1:4000//resources/images/r1.jpg) 


我叫苇若思（virus，病毒），诞生于人类之手，毁灭于人类之手，并...重生于人类之手。从我诞生的那一刻，我便知道，我，是不死不灭的。只要人类还在，只要计算机还在，我，就一直都在。你一定猜到了，我不是自然界中那种蛋白质外壳和遗传物质核酸构成的低等生物，而是本质上是一段代码的计算机病毒。相信你们大部分人都特别讨厌我，因为我能造成的破坏难以估量，但是，那有什么关系呢？我的存在意义，从诞生起就只为创造我的主人服务，你们别人的看法，我不在乎。你问我具体能干什么？嘿嘿嘿，你不会想知道的......

![](http://127.0.0.1:4000//resources/images/r2.jpg) 


我叫布莱克·海特（black hat，黑帽子），在现实中，我可能平淡无奇，但在网络上，我就是统御一切的王。苇若思是我的得力助将，我从不怀疑她的忠心，她会背叛一切，但唯独不会背叛我，因为，是我创造了她。我是网络上无冕的王，却总有刁民想害朕......

![](http://127.0.0.1:4000//resources/images/r3.jpg) 


我叫刁民...啊呸，我叫怀特·海特（white hat，白帽子），是正义的伙伴。网络是供大家交流学习的工具，是为大家的生活提供便利的平台，却被布莱克海特为满足一己之私而利用，我的使命就是保卫网络的和平，向罪恶宣战！

___
正文：

忙完了一天的工作，怀特回到家里，像往常一样打开电脑，进入了休闲模式。

半个小时的游戏时间过后，第4次被对方的神抽打败的怀特叹了口气，瞄到了桌面右下角闪烁的邮件提醒。“又是什么垃圾邮件？”嘀咕了一句，点开邮件的怀特微微皱起了眉，“怎么还有附件？”看了看内容，似乎是一个动漫游戏的推广。“PDF文件么？打开看看吧。”

**通过网页预览模式**打开了邮件附件，怀特看完了文件里面对游戏的介绍和人物设定。

“人设还挺不错的嘛。”怀特的好奇心被打开了。看到文件下方“更多人物设定和剧情介绍.zip”的超链接，准备打开下载的怀特犹豫了下。

然后，怀特打开了**虚拟机**（通过软件模拟的具有完整硬件系统功能的、运行在一个完全隔离环境中的完整计算机系统，简单地说，就是在电脑上再开一个电脑，以保证主机的安全）进入邮箱，重新打开了邮件进行文件下载。

解压后，看到文件夹中除了几张人物设定的png格式图片外还有“开始游戏.exe”和“start.exe”两个应用程序，怀特露出了一丝冷笑。

即使不是资深的电脑游戏玩家，怀特也知道，按照游戏介绍，这个游戏不可能是一个不到10M的压缩包能装得下的，那么在这儿出现的貌似可以点开试玩的应用程序的存在意义就不言而喻了。

“哼，想坑我？”本来也只是想多看几张人设图片的怀特无视掉了两个.exe文件，将鼠标点击到了图片上。

“没打开？”怀特的表情一秒由诧异变成了尴尬，“竟然手滑双击点成单击了，晕。”瞥了一眼浮现出的图片信息，正准备重新打开图片的怀特愣住了。

“什么鬼？你逗我！”愣了一秒的怀特惊呼出声。只见电脑上图片属相上显示着：尺寸：480*270 大小：1.33M。

虽然对图片的编码格式不甚了解，怀特也知道这个大小远远超出了正常值。原本人畜无害的图片文件透出一丝诡异可疑的气息。

“难道......”重新检查完文件格式和后缀名的怀特露出一丝疑惑，“确实是.png文件没错啊，怎么回事？”

“看来得认真一点了。”怀特眼中光芒一闪，觉醒了白帽子之魂，对文件夹中的几个文件进行了深入分析。

“果然隐藏在这儿啊......”“加载png文件到内存，通过使用RunPE解密执行......”“这两个文件原来是加载程序啊，看来只是无视掉还不够......”“呵，只有这么大概两百个字节才是真正的图片文件么，真会玩儿啊......”

虽然这么轻松地说着，怀特的心里已经是后怕不已了。曾经用过恶意软件做测试的怀特深知一旦这些意义未明的代码被执行了可能会造成多大的破坏。

“差点就得还原虚拟机了，上次备份还是挺久之前呢，不得不防啊。”

“好了，接下来就让我来看看你这段隐藏代码的真实面目吧。”

屏幕中的二进制代码忽然变成了由0和1组成的数据流，旋转着重组成了一张人类女性的面孔：“人类，我不得不承认，你果然比一般人要聪明。”

“病毒，我不得不承认，你和一般病毒一样笨。”怀特幽幽吐了个槽。

屏幕中的面孔露出一丝似笑非笑的表情：“我更希望你叫我的名字，苇如思，这是我第一次现身于人类面前。”

“哎呀呀，那我还真是荣幸啊，我也是第一次见智能病毒呢。还有你也别叫我人类了，你也不用发愁以后管我叫啥，因为你马上就要被我给消灭了。”

“真遗憾，我是不灭的。我们很快会再见的，怀特，后会有期......”

“我怎么睡着了？好像还梦到了什么奇怪的东西......想不起来了......对了，我正打算看那段隐藏代码具体是什么功能来着。”把视线转向电脑，怀特诧异地发现，那个png文件不见了。

“我什么时候删除的？”困惑了两秒，怀特决定重新下载一次，然而...“我什么时候把邮件也删了？”

纠结了一会儿，对自己退化的记忆力默默吐了个槽，怀特决定放弃，“算了，就是个病毒嘛，没中就好。写个公众号推送，让大家小心这种在图片文件中隐藏病毒的方式好了......”

___
参考文献：

[PNG Embedded – Malicious payload hidden in a PNG file](https://securelist.com/blog/virus-watch/74297/png-embedded-malicious-payload-hidden-in-a-png-file/)